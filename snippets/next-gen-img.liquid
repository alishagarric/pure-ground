{% comment %}
    Renders an image in next gen format

    Expects:
    - image: {Image} Image object
    - alt: Alt text
    - sizes: (optional) Tells the broswer how much of the screen the image will take up. Default 100vw. Ex. (min-width: 800px) 50vw, 100vw - meaning If the browser window is wider than 800px, this image is probably going to be displayed about half the size of that. If it’s smaller, it’ll probably be full-width.

    Usage:
    {% render 'next-gen-img' image: image, alt: alt %}
{% endcomment %}

{% assign altText = image.alt %}  

{% if altText != blank %} 
  {% if alt %}
    {% assign altText = alt%}
  {% else %} 
    {% assign altText = shop.name %}
  {% endif %}
  {% assign altText = shop.name %}
{% endif %}

<img
    srcset="{%- if image.width >= 375 -%}{{ image | img_url: width: 375 }} 375w,{%- endif -%}
      {%- if image.width >= 550 -%}{{ image | img_url: width: 550 }} 550w,{%- endif -%}
      {%- if image.width >= 750 -%}{{ image | img_url: width: 750 }} 750w,{%- endif -%}
      {%- if image.width >= 1100 -%}{{ image | img_url: width: 1100 }} 1100w,{%- endif -%}
      {%- if image.width >= 1500 -%}{{ image | img_url: width: 1500 }} 1500w,{%- endif -%}
      {%- if image.width >= 1780 -%}{{ image | img_url: width: 1780 }} 1780w,{%- endif -%}
      {%- if image.width >= 2000 -%}{{ image | img_url: width: 2000 }} 2000w,{%- endif -%}
      {%- if image.width >= 3000 -%}{{ image | img_url: width: 3000 }} 3000w,{%- endif -%}
      {%- if image.width >= 3840 -%}{{ image | img_url: width: 3840 }} 3840w,{%- endif -%}
      {{ image | img_url: 'master' }} {{ image.width }}w"
    sizes="{% if sizes %}{{ sizes }}{% else %}100vw{% endif %}"
    src="{{ image | img_url: 'master' }}"
    loading="lazy"
    alt="{{ altText }}"
    width="{{ image.width }}"
    height="{{ image.height }}"
  >